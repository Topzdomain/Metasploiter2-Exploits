<h2 align="left"> Brute Force Attack of Port 22 running OpenSSH </h2>

Result from the Nmap scan shows that port 22 is open and its running OpenSSH (OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)), thereby presenting a vulnearbility that could be exploited. 

This exploit I did with both Hydra and Metasploit and both of them involved brute forcing my way into the target machine. First I created a file Users.txt containing some usernames and another file Passwords.txt containing matching passwords. Below were the steps taken for the Hydra Brute Force attack.

I launched hydra to use the provided username and password dictionary to brute force into the machine. 

```commandline
hydra -L /home/kali/Users.txt -P /home/kali/Passwords.txt 10.0.200.5 ssh
```
<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/launching_hydra_to_brute_force_ssh.png?raw=true" height="50%" width="70%"/>
</p>

<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/Hydra_result_of_brute_force_attack_showing_sucessful_username_and_password.png?raw=true" height="80%" width="100%"/>
</p>

With the username and password flagged by hydra as the correct username and password pair, I proceeded to access the files on the machine

```commandline
ssh msfadmin@10.0.200.5
```
<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/loging_into_ssh_service.png?raw=true" height="50%" width="70%"/>
</p>
<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/access_gained%20_into_metasploiter2_through_ssh_hydra_brute_force_attack.png?raw=true" height="50%" width="70%"/>
</p>
<h5 align="center"> Access successfully gained into metasploitable2 </h5>
	
<h2 align="left"> Using Metasploit for the same brute force attack </h2>

Launched metasploit and searched for ssh_login. The result brought back two attack modules were available. I picked the first one "auxiliary/scanner/ssh/ssh_login". 

<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/metasploit_launch.png?raw=true" height="30%" width="50%"/>

<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/result_of_ssh_login_search_on_metasploit.png?raw=true" height="60%" width="80%"/>

Next I requested for the required options for the exploit to be executed.

```commandline
show options
```

<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/screenshot_of_options_required.png?raw=true" height="200%" width="100%"/>

Some of the requirements which needed to be provided are rhosts (Remote Host) which is the ip address of the target machine, user_file, pass_file and the value of stop_on_success to true. After which I began the exploit.

```commandline
msf6 auxiliary(scanner/ssh/ssh_login) > set rhost 10.0.200.5
rhost => 10.0.200.5
msf6 auxiliary(scanner/ssh/ssh_login) > set USER_FILE /home/kali/Users.txt
USER_FILE => /home/kali/Users.txt
msf6 auxiliary(scanner/ssh/ssh_login) > set PASS_FILE /home/kali/Passwords.txt
PASS_FILE => /home/kali/Passwords.txt
msf6 auxiliary(scanner/ssh/ssh_login) > set STOP_ON_SUCCESS true
STOP_ON_SUCCESS => true
msf6 auxiliary(scanner/ssh/ssh_login) > exploit

```

Once a correct  set of username and password has been gotten, metasploiter stops the brute force attack based on the the settings I made, it then used this login credentials to gain access into the metasploiter2 machine and opens a session through which i can then launch meterpreter (meterpreter is a metasploit penetration tools that gives an attacker access to execute commands and access files as though the attacker were on the target machine) on a new session. To do this, i asked metasploit to use the session 1 which it had opened (sessions -u 1) to open a new session, session 2, from which I used (sessions 2) to open meterpreter.

```commandline
sessions -u 1
```

```commandline
sessions 2
```

<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/sessions_opened_in_metasploiter2.png?raw=true" height="70%" width="80%"/>
<p align="center">
<img src="https://github.com/Topzdomain/Metasploiter2-Exploits/blob/main/ssh_login%20brute%20force%20attack/access_gained_into_metasploiter2_using_metasploit.png?raw=true" height="60%" width="40%"/>

What I learned:
	
 - how to carry out brute force attack using metasploit and hydra
